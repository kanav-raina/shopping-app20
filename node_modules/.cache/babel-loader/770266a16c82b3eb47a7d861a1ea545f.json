{"ast":null,"code":"import { asyncActionError, asyncActionFinish, asyncActionStart } from '../async/asyncReducer';\nimport { SIGN_IN_USER, SIGN_OUT_USER } from './authConstants';\nconst initialState = {\n  authenticated: false,\n  currentUser: null,\n  prevLocation: null\n};\n\nfunction delay(ms) {\n  return new Promise(resolve => setTimeout(resolve, ms));\n}\n\nexport function signin(user) {\n  return async function (dispatch) {\n    dispatch(asyncActionStart());\n\n    try {\n      await delay(3000);\n      dispatch({\n        type: SIGN_IN_USER,\n        payload: user\n      });\n      dispatch(asyncActionFinish());\n    } catch (error) {\n      dispatch(asyncActionError(error));\n    }\n  };\n}\nexport function signout() {\n  return async function (dispatch) {\n    dispatch(asyncActionStart());\n\n    try {\n      await delay(3000);\n      dispatch({\n        type: SIGN_OUT_USER\n      });\n      dispatch(asyncActionFinish);\n    } catch (error) {\n      dispatch(asyncActionError(error));\n    }\n  };\n}\nexport default function authReducer(state = initialState, action) {\n  const {\n    type,\n    payload\n  } = action;\n\n  switch (type) {\n    case SIGN_IN_USER:\n      return { ...state,\n        authenticated: true,\n        currentUser: {\n          email: payload.email,\n          name: payload.firstname + payload.lastname,\n          uid: payload._id\n        }\n      };\n\n    case SIGN_OUT_USER:\n      return { ...state,\n        authenticated: false,\n        currentUser: null\n      };\n\n    default:\n      return state;\n  }\n}","map":{"version":3,"sources":["/home/kanav/final/e-comm/src/store/reducers/auth/authReducer.js"],"names":["asyncActionError","asyncActionFinish","asyncActionStart","SIGN_IN_USER","SIGN_OUT_USER","initialState","authenticated","currentUser","prevLocation","delay","ms","Promise","resolve","setTimeout","signin","user","dispatch","type","payload","error","signout","authReducer","state","action","email","name","firstname","lastname","uid","_id"],"mappings":"AAAA,SAASA,gBAAT,EAA2BC,iBAA3B,EAA8CC,gBAA9C,QAAsE,uBAAtE;AACA,SAASC,YAAT,EAAuBC,aAAvB,QAA4C,iBAA5C;AAEA,MAAMC,YAAY,GAAG;AACnBC,EAAAA,aAAa,EAAE,KADI;AAEnBC,EAAAA,WAAW,EAAE,IAFM;AAGnBC,EAAAA,YAAY,EAAE;AAHK,CAArB;;AAKA,SAASC,KAAT,CAAeC,EAAf,EAAmB;AACf,SAAO,IAAIC,OAAJ,CAAaC,OAAD,IAAaC,UAAU,CAACD,OAAD,EAAUF,EAAV,CAAnC,CAAP;AACD;;AACH,OAAO,SAASI,MAAT,CAAgBC,IAAhB,EAAqB;AAC1B,SAAO,gBAAeC,QAAf,EAAwB;AAC3BA,IAAAA,QAAQ,CAACd,gBAAgB,EAAjB,CAAR;;AACA,QAAI;AACA,YAAMO,KAAK,CAAC,IAAD,CAAX;AACAO,MAAAA,QAAQ,CAAC;AAACC,QAAAA,IAAI,EAACd,YAAN;AAAmBe,QAAAA,OAAO,EAACH;AAA3B,OAAD,CAAR;AACAC,MAAAA,QAAQ,CAACf,iBAAiB,EAAlB,CAAR;AACH,KAJD,CAIE,OAAOkB,KAAP,EAAc;AACZH,MAAAA,QAAQ,CAAChB,gBAAgB,CAACmB,KAAD,CAAjB,CAAR;AACH;AACJ,GATD;AAUD;AAED,OAAO,SAASC,OAAT,GAAkB;AACvB,SAAO,gBAAeJ,QAAf,EAAwB;AAC3BA,IAAAA,QAAQ,CAACd,gBAAgB,EAAjB,CAAR;;AACA,QAAI;AACA,YAAMO,KAAK,CAAC,IAAD,CAAX;AACAO,MAAAA,QAAQ,CAAC;AAACC,QAAAA,IAAI,EAACb;AAAN,OAAD,CAAR;AACAY,MAAAA,QAAQ,CAACf,iBAAD,CAAR;AACH,KAJD,CAIE,OAAOkB,KAAP,EAAc;AACZH,MAAAA,QAAQ,CAAChB,gBAAgB,CAACmB,KAAD,CAAjB,CAAR;AACH;AACJ,GATD;AAUD;AAED,eAAe,SAASE,WAAT,CAAqBC,KAAK,GAAGjB,YAA7B,EAA2CkB,MAA3C,EAAmD;AAChE,QAAO;AAAEN,IAAAA,IAAF;AAAQC,IAAAA;AAAR,MAAoBK,MAA3B;;AACA,UAAQN,IAAR;AACE,SAAKd,YAAL;AACE,aAAO,EACL,GAAGmB,KADE;AAELhB,QAAAA,aAAa,EAAE,IAFV;AAGLC,QAAAA,WAAW,EAAE;AACXiB,UAAAA,KAAK,EAAEN,OAAO,CAACM,KADJ;AAEXC,UAAAA,IAAI,EAAEP,OAAO,CAACQ,SAAR,GAAkBR,OAAO,CAACS,QAFrB;AAGXC,UAAAA,GAAG,EAAEV,OAAO,CAACW;AAHF;AAHR,OAAP;;AAUF,SAAKzB,aAAL;AACE,aAAO,EACL,GAAGkB,KADE;AAELhB,QAAAA,aAAa,EAAE,KAFV;AAGLC,QAAAA,WAAW,EAAE;AAHR,OAAP;;AAMF;AACE,aAAOe,KAAP;AApBJ;AAsBD","sourcesContent":["import { asyncActionError, asyncActionFinish, asyncActionStart } from '../async/asyncReducer';\nimport { SIGN_IN_USER, SIGN_OUT_USER } from './authConstants';\n\nconst initialState = {\n  authenticated: false,\n  currentUser: null,\n  prevLocation: null,\n};\nfunction delay(ms) {\n    return new Promise((resolve) => setTimeout(resolve, ms));\n  }\nexport function signin(user){\n  return async function(dispatch){\n      dispatch(asyncActionStart());\n      try {\n          await delay(3000);\n          dispatch({type:SIGN_IN_USER,payload:user})\n          dispatch(asyncActionFinish())\n      } catch (error) {\n          dispatch(asyncActionError(error))\n      }\n  }\n}\n\nexport function signout(){\n  return async function(dispatch){\n      dispatch(asyncActionStart());\n      try {\n          await delay(3000);\n          dispatch({type:SIGN_OUT_USER})\n          dispatch(asyncActionFinish)\n      } catch (error) {\n          dispatch(asyncActionError(error))\n      }\n  }\n}\n\nexport default function authReducer(state = initialState, action) {\n  const  { type, payload }  =action\n  switch (type) {\n    case SIGN_IN_USER:\n      return {\n        ...state,\n        authenticated: true,\n        currentUser: {\n          email: payload.email,\n          name: payload.firstname+payload.lastname,\n          uid: payload._id,\n          \n        },\n      };\n    case SIGN_OUT_USER:\n      return {\n        ...state,\n        authenticated: false,\n        currentUser: null,\n      };\n    \n    default:\n      return state;\n  }\n}"]},"metadata":{},"sourceType":"module"}